{"version":3,"sources":["custom_calendar.js","basic_func.js","custom.min.js","_inventario.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["$(window).load(function() {\n        var date = new Date(),\n            d = date.getDate(),\n            m = date.getMonth(),\n            y = date.getFullYear(),\n            started,\n            categoryClass;\n\n            \n\n        var calendar = $('#calendar').fullCalendar({\n          locale: 'es',\n          header: {\n            left: 'prev, next, today',\n            center: 'title',\n            right: 'month,agendaWeek,agendaDay'\n          },\n          defaultView: 'agendaDay',\n          navLinks: true,\n          businessHours: {\n            dow: [1,2,3,4,5,6],\n            start: '08:00',\n            end: '20:00'  \n          },\n          minTime: \"07:00\",\n          maxTime: \"20:00\",\n          selectable: true,\n          editable: false,\n          hiddenDays: [ 0 ], //--> para ocultar dias de la semana [0 al 6]\n          selectConstraint: 'businessHours',\n          allDaySlot: false,\n          slotDuration: '00:20:00',\n          axisFormat: 'hh:mm p',\n          slotMinutes: 20,\n          contentHeight: 760,\n          ignoreTimezone: true,\n          timezone: \"local\",\n\n          select: function(start, end, jsEvent, view) {\n\n            // console.log(calendar.fullCalendar('getView').name);\n            console.log(start, end, jsEvent, view);\n            console.log(view.name + ' --> nombre de vista');\n\n            $('#fc_create').click();\n\n            startAgenda = moment(start._d).format('YYYY-MM-DD HH:mm');\n            console.log('formato fecha hora: ' + startAgenda);\n\n            $('#result-search-patient tbody').on('click', '.meeting-assignment', function () {\n              console.log($(this).parent());\n\n              var id = $(this).parent().attr('data-patient-id');\n              \n              $('.form-date-assignment-hidden input#old-patient-id').attr('value', id);\n              $('.form-date-assignment-hidden input#date-meeting-old-patient').attr('value', startAgenda);\n              // validateMeetingAJAX(id);\n\n              console.log($('.form-date-assignment-hidden').html());\n              $('.form-date-assignment-hidden').submit();\n              /*$('.form-date-assignment-hidden').on('submit', function () {\n                console.warn('test front-end asignacion de cita');\n                return false;\n              });*/\n            });\n\n            // $(\"#register_calendar_patient #save_new_patient\").on(\"click\", function() {\n            $(\"#register_calendar_patient\").on(\"submit\", function() {\n              \n              if ( !validator.checkAll($('#register_calendar_patient')) ) {\n                return false;\n              } else {\n                \n                data = {\n                  name_patient: $('#name-patient').val(),\n                  lastname_patient: $('#lastname-patient').val(),\n                  document_type: $('#type-document').val(),\n                  number_document: $('#number-document').val(),\n                  phone_patient: $('#phone-patient').val(),\n                  email_patient: $('#email-patient').val(),\n                  address_patient: $('#address-patient').val(),\n                  start: startAgenda\n                };\n\n                $('#date-agenda').val(startAgenda);\n\n                console.log('la info de la cita para nuevo paciente: ', data);\n                return true;\n\n                // app.httpPost('dra/agenda', data, \n                //   function onSuccess(response) {\n                //     console.log(response);\n                //   }, function onError(response) {\n                //     console.log(response);\n                //   }\n                // );\n\n              }\n\n            });\n\n              /*categoryClass = $(\"#event_type\").val();\n\n              if (title) {\n                calendar.fullCalendar('renderEvent', {\n                    title: title,\n                    start: started,\n                    end: end,\n                    allDay: allDay\n                  },\n                  true // make the event \"stick\"\n                );\n              }\n\n              $('#title').val('');\n\n              calendar.fullCalendar('unselect');\n\n              $('.antoclose').click();\n\n              return false;*/\n            \n\n          },\n          eventClick: function(calEvent, jsEvent, view) {\n            /*$('#title2').val(calEvent.title);\n\n            console.log(calEvent, jsEvent, view);*/\n\n            console.log(view.name + ' --> nombre de vista');\n            if ( view.name !== 'month' || view.name !== 'agendaWeek' ) {\n\n              if ( calEvent.status == 'DONE' ) {\n                $('#fc_detail').click();\n                var link = app.host + 'dra/agenda/' + calEvent.id;\n                $('#link_meeting_detail').attr( 'href', link);\n\n              } else {\n                $('#fc_edit').click();\n                $('#delete-meeting').val(calEvent.id);\n              }\n\n              categoryClass = $(\"#event_type\").val();\n\n              $(\".antosubmit2\").on(\"click\", function() {\n                calEvent.title = $(\"#title2\").val();\n\n                calendar.fullCalendar('updateEvent', calEvent);\n                $('.antoclose2').click();\n              });\n\n              calendar.fullCalendar('unselect');\n\n            } else {\n              $('#calendar').fullCalendar('changeView', 'agendaDay');\n              // $('#calendar').fullCalendar('gotoDate', start);\n            }\n\n          },\n          //editable: false, --> para arrastrar los eventos\n          // editable: false,\n          events: function(start, end, timezone, callback) {\n\n            $.ajax({\n              url: app.host + 'dra/list',\n              type: 'GET',\n              success: function (response) {\n                var events = [];\n                console.log(response);\n\n                $.each(response.meetings, function (index, value){\n                  var eventColor = 'green';\n                  if (value['meeting_status'] == 'DONE') {\n                    eventColor = '#337ab7';\n                  }\n\n                  events.push({\n                    title: value['name'] + ' ' + value['last_name'] , //\n                    start: value['start_meeting'],//moment(start._d).format('YYYY-MM-DD hh:mm')\n                    end: value['end_meeting'],\n                    id: value['id'],\n                    status: value['meeting_status'],\n                    textColor: 'white',\n                    color: eventColor,\n                    allDay: false\n                  });\n                });\n                \n                callback(events);\n              }\n            });\n\n          }\n\n        });\n      });\n\n/*\n[{\n  title: 'All Day Event',\n  start: new Date(y, m, 1)\n}, {\n  title: 'Long Event',\n  start: new Date(y, m, d - 5),\n  end: new Date(y, m, d - 2)\n}, {\n  title: 'Meeting',\n  start: new Date(y, m, d, 10, 30),\n  allDay: false\n}, {\n  title: 'Lunch',\n  start: new Date(y, m, d + 14, 12, 0),\n  end: new Date(y, m, d, 14, 0),\n  allDay: false\n}, {\n  title: 'Birthday Party',\n  start: new Date(y, m, d + 1, 19, 0),\n  end: new Date(y, m, d + 1, 22, 30),\n  allDay: false\n}, {\n  title: 'Click for Google',\n  start: new Date(y, m, 28),\n  end: new Date(y, m, 29),\n  url: 'http://google.com/'\n}]\n*/","\nvar app = {\n\n\thost:\"http://localhost:8000/\",\n\n\tajaxSetup:function(){\n\t  $.ajaxSetup({\n\t      headers: {\n\t          'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\n\t      }\n\t  });\n\t},\n\n\thttpGet:function(url,data,onSuccess,onError){\n\t  $.ajax({\n\t    type: \"GET\",\n\t    url: this.host+url,\n\t    data: data,\n\t    dataType: 'json',\n\t    success: function (response) {\n\t      onSuccess(response);\n\t    },\n\t    error: function (error) {\n\t        onError(error);\n\t    }\n\t  });\n\t},\n\n\thttpShow:function(id,url,onSuccess,onError){\n\t  $.ajax({\n\t    type: \"GET\",\n\t    url: this.host+url+\"/\"+id,\n\t    dataType: 'json',\n\t    success: function (response) {\n\t      onSuccess(response);\n\t    },\n\t    error: function (error) {\n\t        onError(error);\n\t    }\n\t  });\n\t},\n\n\thttpPost:function(url,data,onSuccess,onError){\n\t  $.ajax({\n\t    type: \"POST\",\n\t    url: this.host+url,\n\t    data: data,\n\t    dataType: 'json',\n\t    success: function (response) {\n\t      onSuccess(response);\n\t    },\n\t    error: function (error) {\n\t        onError(error);\n\t    }\n\t  });\n\t},\n\n\n\thttpPut:function(id,url,data,onSuccess,onError){\n\t  $.ajax({\n\t    type: \"PUT\",\n\t    url: this.host+url+\"/\"+id,\n\t    data: data,\n\t    dataType: 'json',\n\t    success: function (response) {\n\t      onSuccess(response);\n\t    },\n\t    error: function (error) {\n\t      onError(error);\n\t    }\n\t  });\n\t},\n\n\thttpDelete:function(id,url,onSuccess,onError){\n\t  $.ajax({\n\t    type: \"DELETE\",\n\t    url: this.host+url+\"/\"+id,\n\t    dataType: 'json',\n\t    success: function (response) {\n\t      onSuccess(response);\n\t    },\n\t    error: function (error) {\n\t      onError(error);\n\t    }\n\t  }); \n\t},\n\n\tdataFormPatient: [],\n\n};\n\n$(function () {\n\n\t// $('.single_cal1').daterangepicker({\n\t// \tsingleDatePicker: true,\n\t// \tshowDropdowns: true,\n\t// \tcalender_style: \"picker_1\"\n\t// }, function(start, end, label) {\n\t// \tconsole.log(start.toISOString(), end.toISOString(), label);\n\t// });\n\n\t$('.datepicker').datepicker({\n\t\tchangeMonth: true,\n\t\tchangeYear: true,\n\t\tyearRange: \"-100:+0\",\n\t}); //agregar date picker jQuery UI para campos de fecha en formularios\n\n\t$(\".image-picker\").imagepicker({\n\t\tshow_label: true,\n\t\t// hide_select: false\n\t});\n\n\t$('.star-rating').starrr({\n\t\trating: 2,\n\t\tchange: function(e, value){\n\t\t\t\n\t\t\tif ( value == undefined ) { \n\t\t\t\t$('#rating-tracing').val(0);\n\t\t\t} else\n\t\t\t\t$('#rating-tracing').val(value);\n\t\t}\n\t});\n\n\t$('.starrr-readonly').starrr({\n\t\treadOnly: true,\n\t\trating: $('#qualification').val()\n\t});\n\n\t$('#dob-patient').change(function () {\n\t\tvar dateString = $(this).val().toString();\n\n\t\tdateString = dateString.split('/');\n\t\tvar dob = new Date( dateString[2], (dateString[1] -1), dateString[0] );\n\n\t\tvar today = new Date();\n\t\tvar years = today.getFullYear() - dob.getFullYear();\n\n\t\tdob.setFullYear(today.getFullYear());\n\t\tif (today < dob) { years--; }\n\n\t\t$('#age-patient').val(years);\n\n\t});\n\n\t$('.num_input').numeric(); //agregar validacion para ingreso unico de numeros para campos de formulario\n\n\tvar next = 1;\n\tvar next_aliment = 1;\n\tvar next_habit = 1;\n\tvar next_medicine = 1;\n\n\t$('.add-field').click(function (e) {\n\t\te.preventDefault();\n\t\tvar rowFields = $('#aliments .fields-container').first().clone();\n\t\t$(rowFields).find('input').val(\"\");\n\t\tnext_aliment ++;\n\t\t$(rowFields).find('input, textarea, select').each(function () {\n\t\t\tvar name = $(this).attr('name') + '-' + next_aliment;\n\t\t\t$(this).attr('name', name);\n\t\t});\n\t\t$(rowFields).css('display', 'none');\n\t\t$(rowFields).insertAfter($('#aliments .fields-container').last());\n\t\t$(rowFields).fadeIn('slow');\n\n\t\tverifyChild();\n\t});\n\n\t$('.rm-field').click(function (e) {\n\t\te.preventDefault();\n\t\tvar rowDelete = $('#aliments .fields-container').last();\n\t\t/*$(rowDelete).fadeOut('slow', function () {\n\t\t\t$(this).remove();\n\t\t});*/\n\t\t$(rowDelete).fadeOut('slow');\n\t\t$(rowDelete).remove();\n\t\tnext_aliment --;\n\n\t\tverifyChild();\n\t});\n\n\tfunction verifyChild() {\n\n\t\tvar rowsLength = $('#aliments .fields-container').length;\n\t\tconsole.log('Numero de alimentos: ' + rowsLength);\n\n\t\tif (rowsLength > 1) {\n\t\t\t$('.rm-field').fadeIn('slow');\n\t\t} else\n\t\t\t$('.rm-field').fadeOut('slow');\n\n\t}\n\n\t$('.add-field-habit').click(function (e) {\n\t\te.preventDefault();\n\t\tvar rowFields = $('#habits .habit-container').first().clone();\n\t\t$(rowFields).find('input, textarea').val(\"\");\n\t\tnext_habit ++;\n\t\t$(rowFields).find('input, textarea, select').each(function () {\n\t\t\tvar name = $(this).attr('name') + '-' + next_habit;\n\t\t\t$(this).attr('name', name);\n\t\t});\n\t\t$(rowFields).css('display', 'none');\n\t\t$(rowFields).insertAfter($('#habits .habit-container').last());\n\t\t$(rowFields).fadeIn('slow');\n\n\t\tverifyHabitChild();\n\t});\n\n\t$('.rm-field-habit').click(function (e) {\n\t\te.preventDefault();\n\t\tvar rowDelete = $('#habits .habit-container').last();\n\t\t/*$(rowDelete).fadeOut('slow', function () {\n\t\t\t$(this).remove();\n\t\t});*/\n\t\t$(rowDelete).fadeOut('slow');\n\t\t$(rowDelete).remove();\n\t\tnext_habit --;\n\n\t\tverifyHabitChild();\n\t});\n\n\tfunction verifyHabitChild() {\n\n\t\tvar rowsLength = $('#habits .habit-container').length;\n\t\tconsole.log('Numero de alimentos: ' + rowsLength);\n\n\t\tif (rowsLength > 1) {\n\t\t\t$('.rm-field-habit').fadeIn('slow');\n\t\t} else\n\t\t\t$('.rm-field-habit').fadeOut('slow');\n\n\t}\n\n\t$('.add-field-medicine').click(function (e) {\n\t\te.preventDefault();\n\t\tvar rowFields = $('#medicine .medicines-container').first().clone();\n\t\t$(rowFields).find('input, textarea').val(\"\");\n\t\tnext_medicine ++;\n\t\t$(rowFields).find('input, textarea, select').each(function () {\n\t\t\tvar name = $(this).attr('name') + '-' + next_medicine;\n\t\t\t$(this).attr('name', name);\n\t\t});\n\t\t$(rowFields).css('display', 'none');\n\t\t$(rowFields).insertAfter($('#medicine .medicines-container').last());\n\t\t$(rowFields).fadeIn('slow');\n\n\t\tverifyMedicineChild();\n\t});\n\n\t$('.rm-field-medicine').click(function (e) {\n\t\te.preventDefault();\n\t\tvar rowDelete = $('#medicine .medicines-container').last();\n\t\t/*$(rowDelete).fadeOut('slow', function () {\n\t\t\t$(this).remove();\n\t\t});*/\n\t\t$(rowDelete).fadeOut('slow');\n\t\t$(rowDelete).remove();\n\t\tnext_medicine --;\n\t\t\n\n\t\tverifyMedicineChild();\n\t});\n\n\tfunction verifyMedicineChild() {\n\n\t\tvar rowsLength = $('#medicine .medicines-container').length;\n\t\tconsole.log('Numero de medicinas: ' + rowsLength);\n\n\t\tif (rowsLength > 1) {\n\t\t\t$('.rm-field-medicine').fadeIn('slow');\n\t\t} else\n\t\t\t$('.rm-field-medicine').fadeOut('slow');\n\n\t}\n\n});\n\n$('#searchOldPatients').click(function () {\n\t\n\tvar data = {\n\t\tname_patient: $('#search-patient-name').val(),\n\t\tnubmer_document: $('#search-document-patient').val()\n\t};\n\n\tconsole.log(data);\n\n\tapp.httpPost('dra/buscar_cita_paciente', data, function onSuccess (response) {\n\t\tconsole.log(response.patients);\n\t\tloadResultPatientTable(response.patients);\n\t}, function onError (response) {\n\t\tconsole.log(response);\n\t});\n\n});\n\nfunction loadResultPatientTable(patientsResult) {\n\tvar table = $('#result-search-patient tbody');\n\t$(\"#result-search-patient tbody\").find(\"tr\").remove();\n\tfor (var patient = 0; patient < patientsResult.length; patient++) {\n\t\ttable.append('<tr>' + \n\t\t'<td>'+ patientsResult[patient].id_number +'</td>' + \n\t\t'<td>'+ patientsResult[patient].name + ' ' + patientsResult[patient].last_name +'</td>' + \n\t\t'<td data-patient-id=\"' + patientsResult[patient].id + '\"><a href=\"#\" class=\"btn btn-success btn-xs meeting-assignment\"><i class=\"fa fa-calendar\"></i> <strong>Asignar</strong></a></td>' + \n\t\t'</tr>');\n\t}\n}\n\nfunction validateMeetingAJAX (patientId) {\n\tvar data = { id: patientId };\n\tapp.httpPost('dra/valida_cita', data, function onSuccess (response) {\n\t\tconsole.log(response);\n\t}, function onError (response) {\n\t\tconsole.log(response);\n\t});\n}\n\nChart.defaults.global.legend = {\n        enabled: false\n      };\n\nvar ctx = document.getElementById(\"lineChart\");\n\nif (ctx !== null) {\n\n\tctx = ctx.getContext(\"2d\");\n\tctx.canvas.height = 100;\n\n\tvar dates = $('#date-meetings').data('date-meetings').split(',');\n\tvar weights = $('#weight-values').data('weight-values').split(',');\n\n\tvar lineChart = new Chart(ctx, {\n\t\ttype: 'line',\n\t\tdata: {\n\t\t  // labels: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\"],\n\t\t  labels: dates,\n\t\t  datasets: [{\n\t\t    label: \"Peso (Kg)\",\n\t\t    backgroundColor: \"rgba(38, 185, 154, 0.31)\",\n\t\t    borderColor: \"rgba(38, 185, 154, 0.7)\",\n\t\t    pointBorderColor: \"rgba(38, 185, 154, 0.7)\",\n\t\t    pointBackgroundColor: \"rgba(38, 185, 154, 0.7)\",\n\t\t    pointHoverBackgroundColor: \"#fff\",\n\t\t    pointHoverBorderColor: \"rgba(220,220,220,1)\",\n\t\t    pointBorderWidth: 1,\n\t\t    data: weights\n\t\t    // data: [31, 74, 6, 39, 20, 85, 7]\n\t\t  }/*, {\n\t\t    label: \"My Second dataset\",\n\t\t    backgroundColor: \"rgba(3, 88, 106, 0.3)\",\n\t\t    borderColor: \"rgba(3, 88, 106, 0.70)\",\n\t\t    pointBorderColor: \"rgba(3, 88, 106, 0.70)\",\n\t\t    pointBackgroundColor: \"rgba(3, 88, 106, 0.70)\",\n\t\t    pointHoverBackgroundColor: \"#fff\",\n\t\t    pointHoverBorderColor: \"rgba(151,187,205,1)\",\n\t\t    pointBorderWidth: 1,\n\t\t    data: [82, 23, 66, 9, 99, 4, 2]\n\t\t  }*/]\n\t\t},\n\t});\n\n}\n\n$('.meeting_delete').click(function () {\n\tconsole.info( $(this).parent().data('meeting-id') );//delete-meeting\n\t$('#delete-meeting').val( $(this).parent().data('meeting-id') );\n});","function countChecked(){\"all\"===checkState&&$(\".bulk_action input[name='table_records']\").iCheck(\"check\"),\"none\"===checkState&&$(\".bulk_action input[name='table_records']\").iCheck(\"uncheck\");var e=$(\".bulk_action input[name='table_records']:checked\").length;e?($(\".column-title\").hide(),$(\".bulk-actions\").show(),$(\".action-cnt\").html(e+\" Records Selected\")):($(\".column-title\").show(),$(\".bulk-actions\").hide())}!function(e,t){var n=function(e,t,n){var i;return function(){function c(){n||e.apply(a,o),i=null}var a=this,o=arguments;i?clearTimeout(i):n&&e.apply(a,o),i=setTimeout(c,t||100)}};jQuery.fn[t]=function(e){return e?this.bind(\"resize\",n(e)):this.trigger(t)}}(jQuery,\"smartresize\");var CURRENT_URL=window.location.href.split(\"?\")[0],$BODY=$(\"body\"),$MENU_TOGGLE=$(\"#menu_toggle\"),$SIDEBAR_MENU=$(\"#sidebar-menu\"),$SIDEBAR_FOOTER=$(\".sidebar-footer\"),$LEFT_COL=$(\".left_col\"),$RIGHT_COL=$(\".right_col\"),$NAV_MENU=$(\".nav_menu\"),$FOOTER=$(\"footer\");$(document).ready(function(){var e=function(){$RIGHT_COL.css(\"min-height\",$(window).height());var e=$BODY.outerHeight(),t=$BODY.hasClass(\"footer_fixed\")?-10:$FOOTER.height(),n=$LEFT_COL.eq(1).height()+$SIDEBAR_FOOTER.height(),i=n>e?n:e;i-=$NAV_MENU.height()+t,$RIGHT_COL.css(\"min-height\",i)};$SIDEBAR_MENU.find(\"a\").on(\"click\",function(t){var n=$(this).parent();n.is(\".active\")?(n.removeClass(\"active active-sm\"),$(\"ul:first\",n).slideUp(function(){e()})):(n.parent().is(\".child_menu\")||($SIDEBAR_MENU.find(\"li\").removeClass(\"active active-sm\"),$SIDEBAR_MENU.find(\"li ul\").slideUp()),n.addClass(\"active\"),$(\"ul:first\",n).slideDown(function(){e()}))}),$MENU_TOGGLE.on(\"click\",function(){$BODY.hasClass(\"nav-md\")?($SIDEBAR_MENU.find(\"li.active ul\").hide(),$SIDEBAR_MENU.find(\"li.active\").addClass(\"active-sm\").removeClass(\"active\")):($SIDEBAR_MENU.find(\"li.active-sm ul\").show(),$SIDEBAR_MENU.find(\"li.active-sm\").addClass(\"active\").removeClass(\"active-sm\")),$BODY.toggleClass(\"nav-md nav-sm\"),e()}),$SIDEBAR_MENU.find('a[href=\"'+CURRENT_URL+'\"]').parent(\"li\").addClass(\"current-page\"),$SIDEBAR_MENU.find(\"a\").filter(function(){return this.href==CURRENT_URL}).parent(\"li\").addClass(\"current-page\").parents(\"ul\").slideDown(function(){e()}).parent().addClass(\"active\"),$(window).smartresize(function(){e()}),e(),$.fn.mCustomScrollbar&&$(\".menu_fixed\").mCustomScrollbar({autoHideScrollbar:!0,theme:\"minimal\",mouseWheel:{preventDefault:!0}})}),$(document).ready(function(){$(\".collapse-link\").on(\"click\",function(){var e=$(this).closest(\".x_panel\"),t=$(this).find(\"i\"),n=e.find(\".x_content\");e.attr(\"style\")?n.slideToggle(200,function(){e.removeAttr(\"style\")}):(n.slideToggle(200),e.css(\"height\",\"auto\")),t.toggleClass(\"fa-chevron-up fa-chevron-down\")}),$(\".close-link\").click(function(){var e=$(this).closest(\".x_panel\");e.remove()})}),$(document).ready(function(){$('[data-toggle=\"tooltip\"]').tooltip({container:\"body\"})}),$(\".progress .progress-bar\")[0]&&$(\".progress .progress-bar\").progressbar(),$(document).ready(function(){if($(\".js-switch\")[0]){var e=Array.prototype.slice.call(document.querySelectorAll(\".js-switch\"));e.forEach(function(e){new Switchery(e,{color:\"#26B99A\"})})}}),$(document).ready(function(){$(\"input.flat\")[0]&&$(document).ready(function(){$(\"input.flat\").iCheck({checkboxClass:\"icheckbox_flat-green\",radioClass:\"iradio_flat-green\"})})}),$(\"table input\").on(\"ifChecked\",function(){checkState=\"\",$(this).parent().parent().parent().addClass(\"selected\"),countChecked()}),$(\"table input\").on(\"ifUnchecked\",function(){checkState=\"\",$(this).parent().parent().parent().removeClass(\"selected\"),countChecked()});var checkState=\"\";$(\".bulk_action input\").on(\"ifChecked\",function(){checkState=\"\",$(this).parent().parent().parent().addClass(\"selected\"),countChecked()}),$(\".bulk_action input\").on(\"ifUnchecked\",function(){checkState=\"\",$(this).parent().parent().parent().removeClass(\"selected\"),countChecked()}),$(\".bulk_action input#check-all\").on(\"ifChecked\",function(){checkState=\"all\",countChecked()}),$(\".bulk_action input#check-all\").on(\"ifUnchecked\",function(){checkState=\"none\",countChecked()}),$(document).ready(function(){$(\".expand\").on(\"click\",function(){$(this).next().slideToggle(200),$expand=$(this).find(\">:first-child\"),\"+\"==$expand.text()?$expand.text(\"-\"):$expand.text(\"+\")})}),\"undefined\"!=typeof NProgress&&($(document).ready(function(){NProgress.start()}),$(window).load(function(){NProgress.done()}));\n\n$(document).ready(function() {\n\n  app.ajaxSetup();\n\n    $('#wizard').smartWizard({\n        labelNext:'Siguiente', // label for Next button\n    \tlabelPrevious:'Anterior', // label for Previous button\n    \tlabelFinish:'Guardar',\n        keyNavigation: false,\n    \tonLeaveStep:leaveAStepCallback,\n        onFinish:onFinishCallback\n    });\n\n    function leaveAStepCallback(obj, context){\n\n        var validatedStep;\n\n        if (context.fromStep > context.toStep) {\n            return true;\n        } else {\n            validatedStep = validateFormStep();\n        }\n        //alert(\"Leaving step \" + context.fromStep + \" to go to step \" + context.toStep);\n        //alert(\"Paso \" + context.fromStep +  \" validado ? = \" + validatedStep);\n        //return validateSteps(context.fromStep); // return false to stay on step and true to continue navigation \n        \n        return validatedStep;\n        // return true;\n\n    }\n\n    function onFinishCallback(objs, context){\n        /*if (validateFormStep()) {\n          alert('Guardar');\n          var datosForm = {data: JSON.stringify(app.dataFormPatient)}\n          app.httpPost('dra/paciente_nuevo', datosForm,\n            function (response){\n            console.log(response);\n            }, function (response){\n            console.log(response);\n            });\n        } */\n        var aliments = [];\n        $(\"#aliments .fields-container\").each(function(){\n            var aliment = {};\n            var dayMoment = $(this).find(\".day-moment\").val();\n            var placeMoment = $(this).find(\".place-moment\").val();\n            var foodId = $(this).find(\".food_id\").val();\n            aliment.day_moment = dayMoment;\n            aliment.place = placeMoment;\n            aliment.food_id = foodId;\n            aliments.push(aliment);\n        });\n        console.log(aliments);\n        $(\"#input_aliments\").val(JSON.stringify(aliments));\n        \n\n        var habits = [];\n        $(\"#habits .habit-container\").each(function(){\n            var habit = {};\n            var nameHabit = $(this).find(\".habit-name\").val();\n            var frecuency = $(this).find(\".frecuency-habit\").val();\n            var timeHabit = $(this).find(\".time-habit\").val();\n            var timeUnits = $(this).find(\".time-habit-unit\").val();\n            var description = $(this).find(\".habit-description\").val();\n            habit.name = nameHabit;\n            habit.frecuency = frecuency;\n            habit.time = timeHabit;\n            habit.units = timeUnits;\n            habit.description = description;\n            habits.push(habit);\n        });\n        console.log(habits);\n        $(\"#input_habits\").val(JSON.stringify(habits));\n\n        var medicines = [];\n        $(\"#medicines .medicines-container\").each(function(){\n            var medicine = {};\n            var nameMedicine = $(this).find(\".medicine-name\").val();\n            var typeMedicine = $(this).find(\".medicine-type\").val();\n            var medicineDoses = $(this).find(\".medicine-doses\").val();\n\n            medicine.name = nameMedicine;\n            medicine.type = typeMedicine;\n            medicine.doses = medicineDoses;\n            medicines.push(medicine);\n        });\n        $(\"#input_medicines\").val(JSON.stringify(medicines));\n\n        $(\"#form_patient\").submit();\n    }\n\n    $('#wizard_verticle').smartWizard({\n        transitionEffect: 'fade',\n    });\n\n    $('.buttonNext').addClass('btn btn-success');\n    $('.buttonPrevious').addClass('btn btn-primary');\n    $('.buttonFinish').addClass('btn btn-default'); \n\n    function saveData() {\n    \talert('Guardar Form');\n    }\n\n    function validateFormStep() {\n        var formElement = $('body').find('div.form-data:visible');\n        return validateForm($(formElement));\n    }\n\n    function validateForm(formElement) {\n        console.log($(formElement));\n\n        var submit = true;\n        // evaluate the form using generic validaing\n        if (!validator.checkAll($(formElement))) {\n          submit = false;\n        } else\n          app.dataFormPatient.push( $(formElement).serializeArray('datos') );\n        console.log(app.dataFormPatient);\n\n        return submit;\n\n    }\n\n    function getSubmittedFormAJAX(dataValues, onSuccess, onError) {\n\n        $.ajax({\n            type: 'GET',\n            url: 'http://localhost:8000/dra/paciente_nuevo',\n            data: dataValues,\n            success: function (response) {\n                onSuccess(response);\n            },\n            error: function (xhr, ajaxOptions, thrownError) {\n                onError(thrownError);\n            }\n        });\n    }\n\n    function callAjax() {\n        var dataValues = {validado: true};\n        var resultado = getSubmittedFormAJAX(dataValues, \n            function onSuccess (response) {\n                console.log(dataValues);\n            }, function onError (thrownError) {\n                console.log(thrownError);\n            });\n    }\n\n    function validateBasicData() {\n        alert('form 1');\n        validator.message.date = 'not a real date';\n\n        // validate a field on \"blur\" event, a 'select' on 'change' event & a '.reuired' classed multifield on 'keyup':\n        $('form.basic-data-form, form.inventory')\n          .on('blur', 'input[required], input.optional, select[required], select.required', validator.checkField)\n          .on('change', 'select.required', validator.checkField)\n          .on('keypress', 'input[required][pattern]', validator.keypress);\n\n        $('.multi.required').on('keyup blur', 'input', function() {\n          validator.checkField.apply($(this).siblings().last()[0]);\n        });\n\n        $('form.inventory').submit(function(e) {\n          e.preventDefault();\n          var submit = true;\n\n          // evaluate the form using generic validaing\n          if (!validator.checkAll($(this))) {\n            submit = false;\n          }\n\n          if (submit)\n            this.submit();\n\n          return false;\n        });\n    }\n\n    /*Validacion de formularios*/\n    validator.message['date'] = 'not a real date';\n\n    $('form, #register_calendar_patient, .tracing')\n    .on('blur', 'input[required], input.optional, select[required], select.required', validator.checkField)\n    .on('change', 'input.datepicker, select[required], select.required', validator.checkField)\n    .on('keypress', 'input[required][pattern]', validator.keypress);\n    $('form').toggleClass('mode2');\n\n    $('.multi.required').on('keyup blur', 'input', function() {\n    validator.checkField.apply($(this).siblings().last()[0]);\n    });\n\n    $('form.inventory').submit(function(e) {\n      e.preventDefault();\n      var submit = true;\n\n      // evaluate the form using generic validaing\n      if (!validator.checkAll($(this))) {\n        submit = false;\n      }\n\n      if (submit)\n        this.submit();\n\n      return false;\n    });\n\n    $('form.tracing').submit(function (e) {\n        var medicines = [];\n        $(\"#medicine .medicines-container\").each(function(){\n            var medicine = {};\n            var nameMedicine = $(this).find(\".medicine-name\").val();\n            var typeMedicine = $(this).find(\".medicine-type\").val();\n            var medicineDoses = $(this).find(\".medicine-doses\").val();\n\n            medicine.name = nameMedicine;\n            medicine.type = typeMedicine;\n            medicine.doses = medicineDoses;\n            medicines.push(medicine);\n        });\n        $(\"#input_medicines\").val(JSON.stringify(medicines));\n\n        e.preventDefault();\n        var submit = true;\n\n        // evaluate the form using generic validaing\n        if (!validator.checkAll($(this))) {\n          submit = false;\n        }\n\n        if (submit)\n          this.submit();\n\n        return false;\n    });\n\n});\n","$(function () {\n\n\t$('.product_detail').click(function () {\n\n\t\tapp.httpShow( getProductId($(this)), 'dra/inventario',\n            function (response){\n            console.log(response);\n            loadProductData(response);\n            }, function (response){\n            console.log(response);\n            });\n\n\t});\n\n\t//confirm_del\n\t$('.product_delete').click(function () {\n\t\tvar delId = getProductId($(this));\n\t\tvar url = app.host + window.location.pathname;\n\t\tconsole.log(url);\n\n\t\t$('.confirm_del').click(function () {\n\n\t\t\tapp.httpDelete( delId, 'dra/inventario',\n            function (response){\n            console.log(response);\n\t\t\t$('#inventoryDelete').modal('toggle');\n\t\t\twindow.location.href = url;\n            }, function (response){\n            console.log(response);\n            });\n\n\t\t});\n\n\t});\n\n\tfunction loadProductData (productInfo) {\n\t\t$('#reference-detail').text(productInfo.product.reference);\n\t\t$('#name-detail').text(productInfo.product.name);\n\t\t$('#type-detail').text(productInfo.type);\n\t\t$('#warranty-detail').text(productInfo.product.warranty);\n\t\t$('#status-detail').text(productInfo.status);\n\t\t$('#quantity-detail').text(productInfo.product.quantity);\n\t\t$('#trademark-detail').text(productInfo.product.trademark);\n\t\t$('#presentation-detail').text(productInfo.presentation);\n\t\t$('#description-detail').text(productInfo.product.observation);\n\t}\n\n\tfunction getProductId(button) {\n\t\tvar id = $(button).parent().data('product-id');\n\t\treturn id;\n\t}\n\n});"],"sourceRoot":"/source/"}